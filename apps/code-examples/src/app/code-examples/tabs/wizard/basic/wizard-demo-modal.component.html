<form [formGroup]="newMemberForm" (ngSubmit)="onSave()">
  <sky-modal>
    <sky-modal-header>
      {{ title }}
    </sky-modal-header>
    <sky-modal-content>
      <sky-tabset
        ariaLabel="Sign-up steps"
        [(active)]="activeIndex"
        tabStyle="wizard"
        #wizardDemo
      >
        <sky-tab tabHeading="1. Biographical Details">
          <sky-fluid-grid [disableMargin]="true" gutterSize="small">
            <sky-row>
              <sky-column [screenSmall]="12" [screenMedium]="4">
                <sky-input-box>
                  <label
                    class="sky-control-label sky-control-label-required"
                    [for]="firstNameInput.id"
                    >First Name</label
                  >
                  <input
                    type="text"
                    class="sky-form-control"
                    formControlName="firstName"
                    [attr.aria-describedby]="firstNameError.id"
                    skyId
                    #firstNameInput="skyId"
                  />
                  <span
                    class="sky-error-indicator"
                    skyId
                    #firstNameError="skyId"
                  >
                    <sky-status-indicator
                      *ngIf="
                        (firstName?.touched || firstName?.dirty) &&
                        !firstName?.valid
                      "
                      indicatorType="danger"
                      descriptionType="error"
                    >
                      First name is required.
                    </sky-status-indicator>
                  </span>
                </sky-input-box>
              </sky-column>
              <sky-column [screenSmall]="12" [screenMedium]="4">
                <sky-input-box>
                  <label class="sky-control-label" [for]="middleNameInput.id"
                    >Middle Name</label
                  >
                  <input
                    type="text"
                    class="sky-form-control"
                    formControlName="middleName"
                    skyId
                    #middleNameInput="skyId"
                  />
                </sky-input-box>
              </sky-column>
              <sky-column [screenSmall]="12" [screenMedium]="4">
                <sky-input-box>
                  <label
                    class="sky-control-label sky-control-label-required"
                    [for]="lastNameInput.id"
                    >Last Name</label
                  >
                  <input
                    type="text"
                    class="sky-form-control"
                    formControlName="lastName"
                    [attr.aria-describedby]="lastNameError.id"
                    skyId
                    #lastNameInput="skyId"
                  />
                  <span
                    class="sky-error-indicator"
                    skyId
                    #lastNameError="skyId"
                  >
                    <sky-status-indicator
                      *ngIf="
                        (lastName?.touched || lastName?.dirty) &&
                        !lastName?.valid
                      "
                      indicatorType="danger"
                      descriptionType="error"
                    >
                      Last name is required.
                    </sky-status-indicator>
                  </span>
                </sky-input-box>
              </sky-column>
            </sky-row>
          </sky-fluid-grid>
        </sky-tab>
        <sky-tab tabHeading="2. Contact Information" [disabled]="step2Disabled">
          <sky-fluid-grid [disableMargin]="true" gutterSize="small">
            <sky-row>
              <sky-column [screenSmall]="12" [screenMedium]="6">
                <sky-input-box>
                  <label
                    class="sky-control-label sky-control-label-required"
                    [for]="phoneNumberInput.id"
                    >Phone Number</label
                  >
                  <sky-phone-field defaultCountry="us">
                    <input
                      formControlName="phoneNumber"
                      [attr.aria-describedby]="phoneNumberError.id"
                      skyId
                      #phoneNumberInput="skyId"
                      skyPhoneFieldInput
                    />
                  </sky-phone-field>
                  <span
                    class="sky-error-indicator"
                    skyId
                    #phoneNumberError="skyId"
                  >
                    <sky-status-indicator
                      *ngIf="
                        (phoneNumber?.touched || phoneNumber?.dirty) &&
                        !phoneNumber?.valid
                      "
                      indicatorType="danger"
                      descriptionType="error"
                    >
                      A valid phone number is required.
                    </sky-status-indicator>
                  </span>
                </sky-input-box>
              </sky-column>
              <sky-column [screenSmall]="12" [screenMedium]="6">
                <sky-input-box>
                  <label
                    class="sky-control-label sky-control-label-required"
                    [for]="emailInput.id"
                    >Email</label
                  >
                  <input
                    type="email"
                    class="sky-form-control"
                    formControlName="email"
                    [attr.aria-describedby]="emailError.id"
                    skyId
                    #emailInput="skyId"
                  />
                  <span class="sky-error-indicator" skyId #emailError="skyId">
                    <sky-status-indicator
                      *ngIf="(email?.touched || email?.dirty) && !email?.valid"
                      indicatorType="danger"
                      descriptionType="error"
                    >
                      A valid email address is required.
                    </sky-status-indicator>
                  </span>
                </sky-input-box>
              </sky-column>
            </sky-row>
          </sky-fluid-grid>
        </sky-tab>
        <sky-tab tabHeading="3. More Information" [disabled]="step3Disabled">
          <sky-fluid-grid [disableMargin]="true" gutterSize="small">
            <sky-row>
              <sky-column [screenSmall]="12">
                <sky-checkbox formControlName="termsAccepted" [required]="true">
                  <sky-checkbox-label>
                    Accept terms and conditions
                  </sky-checkbox-label>
                </sky-checkbox>
              </sky-column>
              <sky-column [screenSmall]="12">
                <sky-checkbox formControlName="mailingList">
                  <sky-checkbox-label>
                    Sign up for our email newsletter
                  </sky-checkbox-label>
                </sky-checkbox>
              </sky-column>
            </sky-row>
          </sky-fluid-grid>
        </sky-tab>
      </sky-tabset>
    </sky-modal-content>
    <sky-modal-footer>
      <sky-tabset-nav-button
        buttonType="previous"
        [tabset]="wizardDemo"
      ></sky-tabset-nav-button>
      <sky-tabset-nav-button
        buttonType="next"
        [tabset]="wizardDemo"
      ></sky-tabset-nav-button>
      <sky-tabset-nav-button
        buttonType="finish"
        [tabset]="wizardDemo"
        [disabled]="saveDisabled"
      ></sky-tabset-nav-button>
      <button
        class="sky-btn sky-btn-link"
        type="button"
        (click)="onCancelClick()"
      >
        Cancel
      </button>
    </sky-modal-footer>
  </sky-modal>
</form>
