<sky-progress-indicator
  #progressIndicator
  [displayMode]="displayMode"
  [isPassive]="isPassive"
  [messageStream]="messageStream"
  [startingIndex]="startingIndex"
  (progressChanges)="onProgressChanges($event)"
>
  <sky-progress-indicator-title> Waterfall </sky-progress-indicator-title>

  <sky-progress-indicator-item title="Do the first thing">
    Waterfall content 1
  </sky-progress-indicator-item>

  <sky-progress-indicator-item title="Do the second thing">
    Waterfall content 2
  </sky-progress-indicator-item>

  <sky-progress-indicator-item
    title="Do the third thing"
    [helpKey]="helpKey"
    [helpPopoverContent]="helpPopoverContent"
    [helpPopoverTitle]="helpPopoverTitle"
  >
    Waterfall content 3
  </sky-progress-indicator-item>

  @if (showFourthItem) {
  <sky-progress-indicator-item title="Do the fourth thing">
    Waterfall content 4
  </sky-progress-indicator-item>
  }

  <!-- Legacy reset button within a progress indicator -->
  @if (!showIsolatedLegacyResetButton) {
  <sky-progress-indicator-reset-button
    #legacyResetButton
    [disabled]="disabled"
    [progressIndicator]="progressIndicator"
    (resetClick)="onResetClick()"
  >
    Reset (legacy)
  </sky-progress-indicator-reset-button>
  }

  <!-- Nav button within a progress indicator -->
  <sky-progress-indicator-nav-button
    buttonText="Reset"
    buttonType="reset"
    class="progress-indicator-fixture-internal-nav-button"
  />
</sky-progress-indicator>

<!-- Legacy reset button outside a progress indicator -->
@if (showIsolatedLegacyResetButton) {
<sky-progress-indicator-reset-button
  #legacyIsolatedResetButton
  [progressIndicator]="progressIndicator"
  (resetClick)="onResetClick()"
>
  Reset (legacy)
</sky-progress-indicator-reset-button>
}

<!-- Nav buttons outside a progress indicator -->
@if (showNavButtons) {
<div class="progress-indicator-fixture-external-nav-buttons">
  <sky-progress-indicator-nav-button
    #defaultNavButton
    [progressIndicator]="defaultNavButtonProgressIndicatorRef"
  />

  @for (buttonConfig of buttonConfigs; track buttonConfig) {
  <sky-progress-indicator-nav-button
    [buttonText]="buttonConfig.text"
    [buttonType]="buttonConfig.type"
    [disabled]="disabled"
    [progressIndicator]="progressIndicator"
  />
  }
</div>
}

<!-- Empty progress indicator container -->
<sky-progress-indicator #emptyProgressIndicator />
