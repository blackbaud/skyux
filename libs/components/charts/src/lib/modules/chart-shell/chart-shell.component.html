<section
  class="sky-chart-shell"
  [attr.aria-label]="headingText()"
  [attr.aria-labelledby]="headerId"
>
  <!-- Header -->
  <div class="sky-chart-header">
    @if (headingText()) {
      @switch (headingLevel()) {
        @case (2) {
          <h2
            [id]="headerId"
            [class]="headingClass()"
            [class.sky-screen-reader-only]="headingHidden()"
          >
            {{ headingText() }}
          </h2>
        }
        @case (4) {
          <h4
            [id]="headerId"
            [class]="headingClass()"
            [class.sky-screen-reader-only]="headingHidden()"
          >
            {{ headingText() }}
          </h4>
        }
        @case (5) {
          <h5
            [id]="headerId"
            [class]="headingClass()"
            [class.sky-screen-reader-only]="headingHidden()"
          >
            {{ headingText() }}
          </h5>
        }
        @default {
          <h3
            [id]="headerId"
            [class]="headingClass()"
            [class.sky-screen-reader-only]="headingHidden()"
          >
            {{ headingText() }}
          </h3>
        }
      }
    }
  </div>

  <!-- Subtitle -->
  @if (subtitleText()) {
    <div
      class="sky-font-body-default sky-chart-subtitle"
      [class.sky-screen-reader-only]="subtitleHidden()"
    >
      {{ subtitleText() }}
    </div>
  }

  <!-- Chart -->
  <div
    class="sky-chart-container sky-margin-stacked-lg"
    [style.height.px]="chartHeight()"
  >
    <canvas
      #canvas
      tabindex="0"
      role="img"
      [attr.aria-label]="ariaLabel()"
    ></canvas>
  </div>

  <!-- Legend -->
  <sky-chart-legend
    [legendItems]="legendItems()"
    (legendItemToggled)="onLegendItemToggled($event)"
  />

  <!-- Actions -->
  <div class="sky-chart-header-actions">
    <sky-dropdown buttonType="context-menu">
      <sky-dropdown-menu>
        <sky-dropdown-item>
          <button type="button" (click)="openChartDataGridModal()">
            {{ 'chart.menu.view_data_table' | skyLibResources }}
          </button>
        </sky-dropdown-item>
      </sky-dropdown-menu>
    </sky-dropdown>
  </div>
</section>
