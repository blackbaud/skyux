<button
  class="sky-help-inline"
  type="button"
  [attr.aria-label]="
    ariaLabel || labelText
      ? ('skyux_help_inline_aria_label' | skyLibResources : labelText)
      : ('skyux_help_inline_button_title' | skyLibResources)
  "
  [attr.aria-controls]="ariaControls"
  [attr.aria-expanded]="ariaExpanded | skyHelpInlineAriaExpanded : ariaControls"
  (click)="onClick()"
  [skyPopover]="labelText && helpPopoverContent ? inlineHelpPopover : undefined"
>
  <sky-icon *skyThemeIf="'default'" icon="info-circle" />
  <sky-icon-stack
    *skyThemeIf="'modern'"
    size="xs"
    [baseIcon]="{
      icon: 'circle-solid',
      iconType: 'skyux'
    }"
    [topIcon]="{
      icon: 'help-i',
      iconType: 'skyux'
    }"
  >
  </sky-icon-stack>
</button>

<sky-popover #inlineHelpPopover [popoverTitle]="helpPopoverTitle">
  <ng-container *ngIf="popoverTemplate; else popoverContext">
    <ng-container *ngTemplateOutlet="popoverTemplate" />
  </ng-container>
</sky-popover>

<ng-template #popoverContext>
  {{ helpPopoverContent }}
</ng-template>
