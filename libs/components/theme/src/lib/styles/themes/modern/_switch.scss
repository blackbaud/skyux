@use '../../variables' as *;

.sky-theme-modern {
  .sky-switch-input:not(:disabled) {
    &.sky-switch-invalid + .sky-switch-control {
      border: solid 2px var(--sky-highlight-color-danger);
      box-shadow: none;
    }

    &:checked + .sky-switch-control,
    &[type='checkbox']:indeterminate + .sky-switch-control,
    &:hover + .sky-switch-control {
      border: solid 1px var(--sky-background-color-primary-dark);
    }

    &:focus + .sky-switch-control,
    &:active + .sky-switch-control {
      border: solid 2px var(--sky-background-color-primary-dark);
    }

    &:focus:not(:active) + .sky-switch-control {
      box-shadow: $sky-theme-modern-elevation-3-shadow-size
        $sky-theme-modern-elevation-3-shadow-color;
      outline: none;
    }
  }

  .sky-switch-control {
    transition: $sky-form-border-and-color-transitions;
    border: 1px solid var(--sky-border-color-neutral-medium-dark);
  }

  .sky-switch-input:disabled + .sky-switch-control {
    background-color: $sky-theme-modern-background-color-neutral-medium;
  }

  .sky-switch-disabled {
    cursor: not-allowed;
  }

  .sky-switch-icon-group {
    .sky-switch-control {
      background-color: transparent;
    }

    .sky-switch-input {
      &:checked + .sky-switch-control,
      &[type='checkbox']:indeterminate + .sky-switch-control {
        background-color: var(--sky-background-color-input-selected);
      }

      &:disabled + .sky-switch-control {
        background-color: $sky-theme-modern-background-color-neutral-medium;
        border: none;
        color: var(--sky-text-color-deemphasized);
      }

      &:checked + .sky-switch-control,
      &:disabled:checked + .sky-switch-control,
      &[type='checkbox']:indeterminate + .sky-switch-control,
      &[type='checkbox']:disabled:indeterminate + .sky-switch-control {
        color: var(--sky-background-color-primary-dark);
      }
    }

    .sky-switch-control {
      border: none;
      border-radius: $sky-theme-modern-box-border-radius-default;

      &.sky-switch-control-icon {
        font-size: 20px;
        height: 40px;
        width: 40px;
      }
    }

    sky-checkbox .sky-switch-control-icon {
      margin-right: $sky-theme-modern-space-sm;
    }

    sky-checkbox:last-of-type .sky-switch-control-icon {
      margin-right: 0;
    }

    sky-radio .sky-switch-control-icon {
      border-radius: $sky-theme-modern-box-border-radius-default;
    }
  }

  &.sky-theme-mode-dark {
    .sky-switch-input:disabled + .sky-switch-control {
      background-color: $sky-theme-modern-mode-dark-background-color-elevation-3;
      border-color: $sky-theme-modern-mode-dark-border-color-neutral-medium;
      color: $sky-theme-modern-mode-dark-font-deemphasized-color;
    }
    .sky-switch-icon-group {
      .sky-switch-control {
        color: $sky-theme-modern-mode-dark-font-body-default-color;
      }
    }
  }
}
