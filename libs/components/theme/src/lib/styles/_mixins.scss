// This file is the entry point for commonly used internal-only SCSS mixins.
// (Our components should @use this file in their SCSS file.)

@forward '_compat/mixins';
@forward 'mixins-public';

// Export variables for backward compatibility.
// (Some stylesheets only import the mixins.scss file and expected the variables to be available.)
@forward 'variables';

// We need to scope the variables used in this file in case the consumer also imports the mixins file.
// (See reasoning for forwarding the variables, above.)
@use 'variables' as vars;

@mixin sky-deemphasized {
  font-family: vars.$sky-font-family;
  color: vars.$sky-text-color-deemphasized;
  font-weight: 400;
  font-size: vars.$sky-font-size-base;
  font-style: italic;
}

@mixin sky-experimental(
  $property,
  $value,
  $moz: vars.$sky-experimental-support-for-mozilla,
  $webkit: vars.$sky-experimental-support-for-webkit,
  $o: vars.$sky-experimental-support-for-opera,
  $ms: vars.$sky-experimental-support-for-microsoft,
  $khtml: vars.$sky-experimental-support-for-khtml,
  $official: true
) {
  @if $webkit and $sky-experimental-support-for-webkit {
    -webkit-#{$property}: $value;
  }
  @if $khtml and $sky-experimental-support-for-khtml {
    -khtml-#{$property}: $value;
  }
  @if $moz and $sky-experimental-support-for-mozilla {
    -moz-#{$property}: $value;
  }
  @if $ms and $sky-experimental-support-for-microsoft {
    -ms-#{$property}: $value;
  }
  @if $o and $sky-experimental-support-for-opera {
    -o-#{$property}: $value;
  }
  @if $official {
    #{$property}: $value;
  }
}

@mixin sky-button-variant(
  $color,
  $background,
  $border,
  $hoverbackground: darken($background, 10%)
) {
  color: $color;
  background-color: $background;
  border-color: $border;

  &:hover,
  &:active,
  &.sky-btn-active {
    color: $color;
    background-color: $hoverbackground;
    border-color: darken($border, 10%);
  }
  &:active,
  &.sky-btn-active {
    background-image: none;
  }
  &.sky-btn-disabled,
  &[disabled],
  fieldset[disabled] & {
    &,
    &:hover,
    &:focus,
    &.sky-btn-focus,
    &:active,
    &.sky-btn-active {
      background-color: $background;
      border-color: $border;
    }
  }
}

@mixin sky-field-invalid {
  box-shadow: 0 0 8px #ed556599;
  border: 1px solid #ed5565;
  outline: none;
}
