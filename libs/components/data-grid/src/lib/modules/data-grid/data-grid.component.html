<sky-wait [isWaiting]="!directive.gridReady()" />
@if (directive.gridOptions(); as gridOptions) {
  @if (directive.useDataManager) {
    <sky-ag-grid-wrapper
      skyAgGridRowDelete
      skyAgGridDataManagerAdapter
      [viewId]="directive.viewId()"
      [compact]="compact()"
      [(rowDeleteIds)]="rowDeleteIds"
      (rowDeleteCancel)="rowDeleteCancel.emit($event)"
      (rowDeleteConfirm)="rowDeleteConfirm.emit($event)"
    >
      <ag-grid-angular
        [gridOptions]="gridOptions"
        [isExternalFilterPresent]="directive.isExternalFilterPresent"
        [doesExternalFilterPass]="directive.doesExternalFilterPass()"
        [style.height.px]="height() || undefined"
        [style.width.px]="width() || undefined"
      />
    </sky-ag-grid-wrapper>
  } @else {
    <sky-ag-grid-wrapper
      skyAgGridRowDelete
      [compact]="compact()"
      [(rowDeleteIds)]="rowDeleteIds"
      (rowDeleteCancel)="rowDeleteCancel.emit($event)"
      (rowDeleteConfirm)="rowDeleteConfirm.emit($event)"
    >
      <ag-grid-angular
        skyViewkeeperOmitShadow=".ag-body-horizontal-scroll"
        [skyViewkeeper]="directive.skyViewkeeper()"
        [gridOptions]="gridOptions"
        [isExternalFilterPresent]="directive.isExternalFilterPresent"
        [doesExternalFilterPass]="directive.doesExternalFilterPass()"
        [style.height.px]="height() || undefined"
        [style.width.px]="width() || undefined"
      />
    </sky-ag-grid-wrapper>
  }

  @if (directive.pageCount(); as pageCount) {
    <sky-paging
      [currentPage]="directive.page() || 1"
      [itemCount]="pageCount * pageSize()"
      [pageSize]="pageSize()"
      (currentPageChange)="directive.currentPageChange($event)"
    />
  }
}
