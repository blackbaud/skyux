@use 'libs/components/theme/src/lib/styles/mixins' as mixins;
@use 'libs/components/theme/src/lib/styles/variables' as *;
@use 'libs/components/theme/src/lib/styles/compat-tokens-mixins' as compatMixins;

@include compatMixins.sky-default-overrides('.sky-toolbar-item') {
  --sky-override-toolbar-item-spacing-bottom: #{$sky-padding-half};
  --sky-override-toolbar-item-spacing-right: #{$sky-margin-half};
}

@include compatMixins.sky-modern-overrides('.sky-toolbar-item') {
  --sky-override-toolbar-item-text-color: var(--sky-color-text-default);
  --sky-override-toolbar-btn-background-color: var(
    --sky-color-background-action-tertiary-base
  );
  --sky-override-toolbar-btn-border: none;
  --sky-override-toolbar-btn-color: inset 0 0 0
    var(--sky-border-width-action-base) transparent;
  --sky-override-toolbar-btn-background-color-hover: var(
    --sky-color-background-action-secondary-hover
  );
}

.sky-toolbar-item {
  margin-right: var(
    --sky-override-toolbar-item-spacing-right,
    var(--sky-space-gap-action_group-m)
  );
  margin-bottom: var(--sky-override-toolbar-item-spacing-bottom);
}

@include mixins.sky-theme-modern {
  ::ng-deep .sky-btn {
    padding-left: var(--sky-comp-button-toolbar-space-inset-left);
    padding-right: var(--sky-comp-button-toolbar-space-inset-right);

    // In modern v2 secondary/default buttons should not change in toolbars, remove this override leaving just the icon overrides
    &.sky-btn-default:not(:disabled):not(
        .sky-search-btn,
        .sky-search-btn-open,
        .sky-filter-bar-btn
      ) {
      background-color: var(
        --sky-override-toolbar-btn-background-color,
        var(--sky-color-background-action-secondary-base)
      );
      border: var(--sky-override-toolbar-btn-border, none);
      color: var(
        --sky-override-toolbar-item-text-color,
        var(--sky-color-text-default)
      );

      &:hover {
        background-color: var(--sky-color-background-action-secondary-hover);
        box-shadow:
          inset 0 0 0 var(--sky-border-width-action-hover)
            var(--sky-color-border-action-secondary-hover),
          var(--sky-elevation-action-secondary-hover);
      }

      &:not(:hover):not(:active):not(:focus) {
        box-shadow: var(
          --sky-override-toolbar-btn-color,
          inset 0 0 0 var(--sky-border-width-action-base)
            var(--sky-color-border-action-secondary-base),
          var(--sky-elevation-action-secondary-base)
        );
      }

      sky-icon {
        color: var(
          --sky-override-toolbar-item-text-color,
          var(--sky-color-icon-action)
        );
      }
    }
  }
}
