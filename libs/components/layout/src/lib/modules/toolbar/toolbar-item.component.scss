@use 'libs/components/theme/src/lib/styles/variables' as *;
@use 'libs/components/theme/src/lib/styles/compat-tokens-mixins' as compatMixins;

@include compatMixins.sky-default-overrides('.sky-toolbar-item') {
  --sky-override-toolbar-btn-background-color: #{$sky-color-white};
  --sky-override-toolbar-btn-border: #{1px solid
    $sky-border-color-neutral-medium};
  --sky-override-toolbar-btn-box-shadow: none;
  --sky-override-toolbar-btn-hover-background-color: var(
    --sky-background-color-neutral-light
  );
  --sky-override-toolbar-btn-hover-border: #{1px solid
    darken($sky-border-color-neutral-medium, 10%)};
  --sky-override-toolbar-btn-padding-horizontal: 12px;
  --sky-override-toolbar-item-spacing-bottom: #{$sky-padding-half};
  --sky-override-toolbar-item-spacing-right: #{$sky-margin-half};
  --sky-override-toolbar-item-text-color: #{$sky-text-color-default};
}

@include compatMixins.sky-modern-overrides('.sky-toolbar-item') {
  --sky-override-toolbar-btn-background-color: transparent;
  --sky-override-toolbar-item-text-color: var(--sky-color-text-default);
  --sky-override-toolbar-search-icon-color: var(--sky-color-icon-default);
}

.sky-toolbar-item {
  margin-right: var(
    --sky-override-toolbar-item-spacing-right,
    var(--sky-space-gap-action_group-m)
  );
  margin-bottom: var(--sky-override-toolbar-item-spacing-bottom);

  ::ng-deep .sky-btn {
    padding-left: var(
      --sky-override-toolbar-btn-padding-horizontal,
      var(--sky-space-inset-balanced-s)
    );
    padding-right: var(
      --sky-override-toolbar-btn-padding-horizontal,
      var(--sky-space-inset-balanced-s)
    );

    &.sky-btn-default:not(:disabled):not(.sky-search-btn) {
      background-color: var(
        --sky-override-toolbar-btn-background-color,
        var(--sky-color-background-action-secondary-base)
      );
      border: var(--sky-override-toolbar-btn-border, none);
      color: var(
        --sky-override-toolbar-item-text-color,
        var(--sky-color-text-action)
      );

      &:hover {
        background-color: var(
          --sky-override-toolbar-btn-hover-background-color,
          transparent
        );
        border: var(--sky-override-toolbar-btn-hover-border, none);
      }

      &:not(:hover):not(:active):not(:focus) {
        box-shadow: var(
          --sky-override-toolbar-btn-box-shadow,
          inset 0 0 0 var(--sky-border-width-action-base) transparent
        );
      }

      sky-icon {
        color: var(
          --sky-override-toolbar-item-text-color,
          var(--sky-color-icon-action)
        );
      }
    }
  }

  ::ng-deep
    sky-search
    .sky-search-container
    .sky-search-input-container
    sky-input-box {
    --sky-background-color-input-box-group: transparent;
    --sky-background-color-input-box-group-focused: transparent;

    .sky-input-group-icon .sky-icon {
      color: var(
        --sky-override-toolbar-search-icon-color,
        var(--sky-color-icon-action)
      );
    }

    .sky-input-box-group
      .sky-form-group
      .sky-input-box-form-group-inner
      input::placeholder {
      color: var(
        --sky-override-toolbar-item-text-color,
        var(--sky-color-text-action)
      );
    }
  }
}
