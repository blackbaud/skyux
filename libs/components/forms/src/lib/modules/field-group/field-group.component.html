<fieldset
  class="sky-field-group"
  [attr.aria-describedby]="hintText ? hintTextEl.id : undefined"
>
  <legend
    class="sky-control-label"
    [ngClass]="{
      'sky-screen-reader-only': headingHidden,
      'sky-margin-stacked-xs': !!hintText,
      'sky-margin-stacked-sm': !hintText
    }"
  >
    <span class="sky-margin-inline-xs">
      @switch (headingLevel) {
        @case (4) {
          <h4 [class]="headingClass">{{ headingText }}</h4>
        }
        @default {
          <h3 [class]="headingClass">{{ headingText }}</h3>
        }
      }
    </span>
    @if (helpPopoverContent || helpKey) {
      <sky-help-inline
        class="sky-field-group-help-inline"
        [helpKey]="helpKey"
        [labelText]="headingText"
        [popoverTitle]="helpPopoverTitle"
        [popoverContent]="helpPopoverContent"
      />
    }
  </legend>
  <div #hintTextEl="skyId" skyId>
    @if (hintText) {
      <div class="sky-field-group-hint-text sky-margin-stacked-lg sky-font-deemphasized">
        {{ hintText }}
      </div>
    }
  </div>
  <div class="sky-field-group-content">
    <ng-content />
  </div>
</fieldset>
