<fieldset
  class="sky-radio-group"
  role="radiogroup"
  [attr.aria-label]="headingText ? undefined : ariaLabel"
  [attr.aria-labelledby]="headingText ? undefined : ariaLabelledBy"
  [attr.aria-describedby]="hintText ? hintTextEl.id : undefined"
  [attr.aria-owns]="ariaOwns"
  [attr.aria-required]="isRequired ? true : null"
  [attr.required]="isRequired ? '' : null"
  [attr.aria-invalid]="!!ngControl?.errors"
  [attr.aria-errormessage]="
    headingText && ngControl?.errors ? errorId : undefined
  "
>
  <span class="sky-radio-group-label-wrapper">
    @if (headingText) {
      <legend
        class="sky-control-label"
        [ngClass]="{
          'sky-screen-reader-only': headingHidden,
          'sky-margin-stacked-sm': !hintText,
          'sky-control-label-required': isRequired,
          'sky-margin-inline-xs': helpPopoverContent
        }"
      >
        @if (headingLevel === 3) {
          <h3 [class]="headingClass">
            {{ headingText }}
          </h3>
        } @else if (headingLevel === 4) {
          <h4 [class]="headingClass">
            {{ headingText }}
          </h4>
        } @else if (headingLevel === 5) {
          <h5 [class]="headingClass">
            {{ headingText }}
          </h5>
        } @else {
          <span [class]="headingClass">
            {{ headingText }}
          </span>
        }
      </legend>
      @if (helpPopoverContent || helpKey) {
        <sky-help-inline
          [helpKey]="helpKey"
          [labelText]="headingText"
          [popoverTitle]="helpPopoverTitle"
          [popoverContent]="helpPopoverContent"
        />
      }
    }
  </span>

  <div #hintTextEl="skyId" skyId>
    @if (hintText) {
      <div class="sky-font-deemphasized sky-radio-group-hint-text">
        {{ hintText }}
      </div>
    }
  </div>
  <ng-content />
</fieldset>
<sky-form-errors
  [id]="errorId"
  [errors]="ngControl?.errors"
  [labelText]="headingText"
  [touched]="ngControl?.touched"
  [dirty]="ngControl?.dirty"
>
  <ng-content select="sky-form-error" />
</sky-form-errors>
