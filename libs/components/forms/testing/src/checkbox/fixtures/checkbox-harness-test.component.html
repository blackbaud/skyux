<form [formGroup]="myForm">
  <sky-checkbox-group
    [attr.class]="class"
    [formGroup]="myForm"
    [helpKey]="helpKey"
    [helpPopoverContent]="helpPopoverContent"
    [helpPopoverTitle]="helpPopoverTitle"
    [hintText]="hintText"
    [headingHidden]="hideGroupHeading"
    [headingLevel]="headingLevel"
    [headingStyle]="headingStyle"
    [required]="required"
    [stacked]="stacked"
    headingText="Contact method"
    data-sky-id="checkbox-group"
  >
    <sky-checkbox
      data-sky-id="my-email-checkbox"
      formControlName="email"
      label="Your email address"
      labelledBy="foo-email-id"
    >
      <sky-checkbox-label *ngIf="!hideEmailLabel"> Email </sky-checkbox-label>
    </sky-checkbox>

    <sky-checkbox
      [required]="true"
      [hintText]="phoneHintText"
      [labelHidden]="hidePhoneLabel"
      data-sky-id="my-phone-checkbox"
      formControlName="phone"
      [helpKey]="helpKey"
      helpPopoverContent="(xxx)xxx-xxxx"
      helpPopoverTitle="Format"
      labelText="Phone"
    />

    <sky-checkbox
      data-sky-id="my-mail-checkbox"
      formControlName="mail"
      labelText="Mail"
    >
      <sky-form-error
        *ngIf="mailControl.errors?.['requiredFalse']"
        errorName="requiredFalse"
        errorText="This checkbox must be unchecked."
      />
    </sky-checkbox>

    <sky-form-error
      *ngIf="myForm.errors?.['emailOnly']"
      errorName="emailOnly"
      errorText="Email cannot be the only contact method."
    />
  </sky-checkbox-group>
</form>
