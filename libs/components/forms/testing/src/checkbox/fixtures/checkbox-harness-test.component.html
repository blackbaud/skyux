<form [formGroup]="myForm">
  <sky-checkbox-group
    [formGroup]="myForm"
    [helpPopoverContent]="helpPopoverContent"
    [helpPopoverTitle]="helpPopoverTitle"
    [hintText]="hintText"
    [labelHidden]="hideGroupLabel"
    labelText="Contact method"
    class="sky-margin-stacked-xl"
    data-sky-id="checkbox-group"
  >
    <sky-checkbox
      data-sky-id="my-email-checkbox"
      formControlName="email"
      label="Your email address"
      labelledBy="foo-email-id"
    >
      <sky-checkbox-label *ngIf="!hideEmailLabel"> Email </sky-checkbox-label>
    </sky-checkbox>

    <sky-checkbox
      [required]="true"
      [hintText]="phoneHintText"
      [labelHidden]="hidePhoneLabel"
      data-sky-id="my-phone-checkbox"
      formControlName="phone"
      helpPopoverContent="(xxx)xxx-xxxx"
      helpPopoverTitle="Format"
      labelText="Phone"
    />

    <sky-checkbox
      data-sky-id="my-mail-checkbox"
      formControlName="mail"
      labelText="Mail"
    >
      <sky-form-error
        *ngIf="mailControl.errors?.['requiredFalse']"
        errorName="requiredFalse"
        errorText="This checkbox must be unchecked."
      />
    </sky-checkbox>

    <sky-form-error
      *ngIf="myForm.errors?.['contactMethodRequired']"
      errorName="contactMethodRequired"
      errorText="A contact method must be selected."
    />
  </sky-checkbox-group>
</form>
